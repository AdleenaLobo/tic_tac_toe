(()=>{"use strict";let e,t,n,o,i,r,c,d,l,u,a,s,m,x,f,p,C,v,E="x";function b(e,t){return e.textContent=t,e}function h(e,t){for(let n=0;n<t.length;n++)e.appendChild(t[n]);return e}function y(e,t){return e.setAttribute("id",t),e}function S(){"X's turn"==a.textContent?a.textContent="O's turn":a.textContent="X's turn"}function g(){let e=Array.from(u);for(let t=0;t<e.length;t++)""!=e[t].textContent&&(e[t].textContent="",e[t].removeAttribute("id"))}let q,A=document.querySelector("body");function L(){console.log(X),console.log(q),A.removeChild(q),A.removeChild(X),A.appendChild(i),I=1}function k(){A.removeChild(q),g(),function(){if("x"==P){let e=parseInt(x.textContent);x.textContent=++e}else if("o"==P){let e=parseInt(f.textContent);f.textContent=++e}else{let e=parseInt(p.textContent);p.textContent=++e}}()}function w(e){if(null!=e){q=document.createElement("div");let t=document.createElement("div");t.classList.add("model"),q.classList.add("modelWrapper");const n=function(e){let t=document.createElement("div");return t.setAttribute("id","winnerDeclare"),console.log(T),console.log(E),console.log(e),t.textContent="player"==T?"x"==E&&"x"==e?"Player 1 win's":"o"==E&&"x"==e||"x"==E&&"o"==e?"Player 2 win's":"o"==E&&"o"==e?"Player 1 win's":"":"x"==E&&"x"==e?"Player 1 win's":"o"==E&&"x"==e||"x"==E&&"o"==e?"CPU win's":"o"==E&&"o"==e?"Player 1 win's":"",t}(e),o=function(e){let t=document.createElement("div");return t.textContent=`${e.toUpperCase()} Takes the round`,"full"==e&&(e="tie",t.textContent=`${e.toUpperCase()} round`),"x"==e?t.setAttribute("id","x"):"o"==e?t.setAttribute("id","o"):t.setAttribute("id","tie"),t}(e),i=function(){const e=document.createElement("button"),t=document.createElement("button");e.setAttribute("id","quit"),e.textContent="Quit",t.setAttribute("id","nextRound"),t.textContent="Next Round";const n=document.createElement("div");return n.appendChild(e),n.appendChild(t),n}();t.appendChild(n),t.appendChild(o),t.appendChild(i),q.appendChild(t),s.appendChild(q),C=document.querySelector("#quit"),v=document.querySelector("#nextRound"),C.addEventListener("click",L),v.addEventListener("click",k)}}let P,X,T,O,I=1,R=[];function U(){1==I?I--:I++}function B(e,t){e.setAttribute("id",t)}function $(){""==this.textContent&&(console.log(I),1==I?(this.textContent="X",U(),S(),B(this,"x")):(this.textContent="O",U(),S(),B(this,"o")),function(){let e=document.querySelectorAll(".grid > button");R=Array.from(e).map((e=>e.getAttribute("id")))}(),P=function(){if(R[0]==R[1]&&R[1]==R[2])return R[0];if(R[3]==R[4]&&R[4]==R[5])return R[3];if(R[6]==R[7]&&R[7]==R[8])return R[6];if(R[0]==R[4]&&R[4]==R[8])return R[0];if(R[2]==R[4]&&R[4]==R[6])return R[2];if(R[0]==R[3]&&R[3]==R[6])return R[0];if(R[1]==R[4]&&R[4]==R[7])return R[1];if(R[2]==R[5]&&R[5]==R[8])return R[2];if(null!=R[1]&&null!=R[3]&&null!=R[5]&&null!=R[7]){let e=0;if(R.forEach((t=>{null!=t&&e++})),9==e)return"full"}}(),w(P))}function D(){r.removeChild(i),X=document.createElement("div"),X.classList.add("gamePage"),r.appendChild(X),function(){c=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),c.classList.add("title1"),d.classList.add("grid"),l.classList.add("pointer");let e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("button"),o=document.createElement("img"),i=document.createElement("span"),r=document.createElement("span");i=y(i,"x"),r=y(r,"o"),i=b(i,"X"),r=b(r,"O"),t=b(t,"X's turn"),t=y(t,"turn"),o.src="../assets/reload.webp",o.style.height="20px",o.style.width="20px",n=h(n,[o]),n=y(n,"resetBun"),e=h(e,[i,r]),c=h(c,[e,t,n]),function(){for(let e=0;e<9;e++){let e=document.createElement("button");d=h(d,[e])}}(),function(){let e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div");e=y(e,"xpointer"),n=y(n,"opointer"),t=y(t,"ties"),o=y(o,"xScoreTitle"),i=y(i,"xScore"),o.textContent="X's Scores",i.textContent="0",e=h(e,[o,i]);let r=document.createElement("div"),c=document.createElement("div");r=y(r,"tieTitle"),c=y(c,"tieScore"),r.textContent=" Ties",c.textContent="0",t=h(t,[r,c]);let d=document.createElement("div"),u=document.createElement("div");d=y(d,"oScoreTitle"),u=y(u,"oScore"),d.textContent="O's Scores",u.textContent="0",n=h(n,[d,u]),l=h(l,[e,t,n]),console.log(l)}(),X.appendChild(c),X.appendChild(d),X.appendChild(l)}(),u=document.querySelectorAll(".grid > button"),a=document.querySelector(".title1>#turn"),s=document.querySelector("body"),m=document.querySelector("#resetBun"),x=document.querySelector("#xScore"),f=document.querySelector("#oScore"),p=document.querySelector("#tieScore"),function(){for(let e=0;e<u.length;e++)u[e].addEventListener("click",$)}(),m.addEventListener("click",g)}function N(){O=this;let e=this.getAttribute("id");T="o-background"==e?"cpu":"player"}i=document.querySelector(".container"),t=document.querySelector("#button-container > #x-active"),e=document.querySelector("#button-container > #o"),n=document.querySelector(".buns > #x-background"),o=document.querySelector(".buns > #o-background"),r=document.querySelector("body"),console.log(t,e),e.addEventListener("click",(function(){"o-active"==e.id?(e.id="o",t.id="x-active",E="x"):(e.id="o-active",t.id="x",E="o")})),t.addEventListener("click",(function(){"x-active"==t.id?(e.id="o-active",t.id="x",E="o"):(e.id="o",t.id="x-active",E="x")})),n.addEventListener("click",(()=>{N.bind(n)(),D.bind(n)()})),o.addEventListener("click",(()=>{N.bind(o)(),D.bind(o)()}))})();